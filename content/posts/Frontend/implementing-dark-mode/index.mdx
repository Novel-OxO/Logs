---
title: Next.js 16과 Tailwind CSS v4로 다크 모드 구현하기 (feat. next-themes)
category: Frontend
image: "./thumbnail.png"
date: 2026-01-25
description: next-themes와 shadcn/ui를 사용하여 Next.js 애플리케이션에 완벽한 다크 모드를 구현하는 방법을 알아봅니다.
tags: [Next.js, Tailwind CSS, Dark Mode, shadcn/ui]
---

현대적인 웹 애플리케이션에서 다크 모드는 선택이 아닌 필수가 되어가고 있습니다. 사용자에게 시각적 편안함을 제공하고, OS 설정에 맞춘 일관된 경험을 주는 것은 매우 중요합니다.

이번 글에서는 Next.js 16(App Router), Tailwind CSS v4 환경에서 `next-themes` 라이브러리를 사용하여 다크 모드를 구현하는 과정을 단계별로 정리해 보았습니다. 또한, `shadcn/ui` 컴포넌트를 활용하여 깔끔한 테마 토글 버튼을 만드는 방법도 함께 다룹니다.

## 1. 패키지 설치

먼저 다크 모드 처리를 쉽게 도와주는 `next-themes` 패키지를 설치합니다.

```bash
yarn add next-themes
```

Next.js의 App Router 환경에서는 클라이언트 컴포넌트와 서버 컴포넌트의 경계가 명확하므로, 테마 상태를 관리할 Provider를 별도로 분리해야 합니다.

## 2. ThemeProvider 생성

`next-themes`의 `ThemeProvider`는 Context API를 사용하므로 클라이언트 컴포넌트(`"use client"`)여야 합니다. `components/theme-provider.tsx` 파일을 생성하여 다음과 같이 작성합니다.

```tsx
// components/theme-provider.tsx
"use client";

import * as React from "react";
import { ThemeProvider as NextThemesProvider } from "next-themes";

export function ThemeProvider({
  children,
  ...props
}: React.ComponentProps<typeof NextThemesProvider>) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;
}
```

## 3. RootLayout에 적용

이제 `app/layout.tsx` 파일에서 최상위 `body` 태그 안쪽을 감싸도록 `ThemeProvider`를 적용합니다.

```tsx
// app/layout.tsx
import { ThemeProvider } from "@/components/theme-provider";

export default function RootLayout({ children }: RootLayoutProps) {
  return (
    <html lang="ko" suppressHydrationWarning>
      <head />
      <body>
        <ThemeProvider
          attribute="class"
          defaultTheme="system"
          enableSystem
          disableTransitionOnChange
        >
          {children}
        </ThemeProvider>
      </body>
    </html>
  );
}
```

> **중요**: `<html>` 태그에 `suppressHydrationWarning` 속성을 추가해야 합니다. 테마 변경 시 클라이언트와 서버의 HTML 속성이 달라질 수 있어 발생하는 hydration warning을 방지하기 위함입니다.

## 4. UI 컴포넌트: 모드 토글 버튼

사용자가 테마를 직접 선택할 수 있는 토글 버튼을 만들어보겠습니다. `shadcn/ui`의 Dropdown Menu와 Button 컴포넌트를 사용하면 멋진 UI를 쉽게 만들 수 있습니다.

```tsx
// components/mode-toggle.tsx
"use client";

import * as React from "react";
import { Moon, Sun } from "lucide-react";
import { useTheme } from "next-themes";

import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";

export function ModeToggle() {
  const { setTheme } = useTheme();

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline" size="icon">
          <Sun className="h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90" />
          <Moon className="absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0" />
          <span className="sr-only">Toggle theme</span>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        <DropdownMenuItem onClick={() => setTheme("light")}>
          Light
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("dark")}>
          Dark
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("system")}>
          System
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}
```

이 코드는 Sun 아이콘과 Moon 아이콘을 겹쳐두고, Tailwind CSS의 `dark:` modifier와 CSS transform을 이용해 애니메이션 효과를 줍니다. 다크 모드일 때는 달이 보이고, 라이트 모드일 때는 해가 보이게 됩니다.

## 5. Tailwind CSS 설정

Tailwind CSS v4에서는 별도의 설정 없이도 다크 모드가 잘 동작합니다. 다만, 컬러 팔레트를 CSS 변수로 관리하고 있다면 `globals.css`에서 `.dark` 클래스 하위에 다크 모드용 색상을 정의해 주어야 합니다.

`shadcn/ui`를 `init`할 때 생성된 `app/globals.css`를 보면 이미 다음과 같이 설정되어 있을 것입니다.

```css
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    /* ... 기타 라이트 모드 변수들 */
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    /* ... 기타 다크 모드 변수들 */
  }
}
```

## 마무리

이제 `next-themes`를 통해 시스템 설정을 감지하고, 사용자가 원할 때 테마를 변경할 수 있는 완벽한 다크 모드 환경이 구축되었습니다.

`suppressHydrationWarning` 추가와 클라이언트 컴포넌트 분리만 주의한다면, Next.js App Router 환경에서도 매우 쉽게 다크 모드를 구현할 수 있습니다.
